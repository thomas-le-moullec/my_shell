[01]
NAME="Path 1"
sETUP="PATH='/usr/bin:/bin' ; touch file$$"
CLEAN="rm -f file$$"
TESTS=
  echo 'ls -la /bin .'
[01-END]

[02]
NAME="Path 2"
SETUP="PATH='/bin' ; touch file$$"
CLEAN="rm -f file$$"
TESTS=
  echo 'ls -la /bin .'
[02-END]

[03]
NAME="Path 3"
SETUP="PATH=':/usr/bin:/bin:' ; touch file$$"
CLEAN="rm -f file$$"
TESTS=
  echo 'ls -la /bin .'
[03-END]

[04]
NAME="Path 4"
SETUP="touch file$$;PATH=''"
CLEAN="/bin/rm -f file$$"
TESTS=
  echo 'ls -la /bin .'
[04-END]

[05]
NAME="Path 5"
SETUP="PATH='/tmp:/root/:/bin' ; /usr/bin/touch file$$"
CLEAN="/bin/rm -f file$$"
TESTS=
  echo 'ls -la /bin .'
[05-END]

[06]
NAME="Path 6"
SETUP="PATH=' ' ; /usr/bin/touch file$$"
CLEAN="/bin/rm -f file$$"
TESTS=
  echo 'ls -la /bin .'
[06-END]

[07]
NAME="Path 7"
SETUP="PATH='coucou' ; /usr/bin/touch file$$"
CLEAN="/bin/rm -f file$$"
TESTS=
  echo 'ls -la /bin .'
[07-END]

[08]
NAME="Path 8"
SETUP="PATH='/' ; /usr/bin/touch file$$"
CLEAN="/bin/rm -f file$$"
TESTS=
  echo 'ls -la /bin .'
[08-END]

[09]
NAME="Path 9"
SETUP="PATH='.mybin' ; /usr/bin/touch file$$ ; /bin/mkdir .mybin ; /bin/cp /bin/ls .mybin/"
CLEAN="/bin/rm -f file$$ ; /bin/rm -Rf .mybin"
TESTS=
  echo 'ls -la /bin .'
[09-END]

[10]
NAME="Path 10"
SETUP="unset PATH ; /usr/bin/touch file$$"
CLEAN="/bin/rm -f file$$"
TESTS=
  echo 'ls -la /bin .'
[10-END]


[11]
NAME="Just a pwd"
SETUP=""
CLEAN=""
TESTS=
  echo 'pwd'
[11-END]

[12]
NAME="Pipe with builtin"
SETUP="OLDPATH=$PATH ; PATH='/toto'"
CLEAN="PATH=$OLDPATH"
TESTS=
  echo 'setenv | /bin/grep PATH'
[12-END]

[13]
NAME="Check exec"
SETUP="mkdir bin ; cp /bin/ls bin/cat"
CLEAN="rm -Rf bin"
TESTS=
  echo 'pwd ; cd bin ; ls -l'
  echo 'cd ..'
  echo 'bin/cat'
  sleep 0.5
  echo 'pwd'
[13-END]

[14]
NAME="Check exit"
SETUP=""
CLEAN=""
TESTS=
  echo 'exit 25'
[14-END]

[15]
NAME="Check non existant bin"
SETUP="PATH='/bin:/usr/bin'"
CLEAN=""
TESTS=
  echo 'coucou'
[15-END]

[16]
NAME="setenv and unsetenv"
SETUP="/usr/bin/env > .lstenv ; while read varenv ; do unset $varenv ; done < <(/bin/cat .lstenv | /usr/bin/cut -f1 -d=) ; export PATH=/bin:/usr/bin ; export _=ls ; export LS_COLORS=RED ; export MYBG=1 ; export LVL=42 ; export NOTE=0"
CLEAN="while read varenv ; do export "$varenv" 2>/dev/null ; done  < <(/bin/cat .lstenv) ; /bin/rm -f .lstenv"
TESTS=
  echo 'unsetenv HOSTTYPE VENDOR OSTYPE MACHTYPE SHLVL PWD LOGNAME USER GROUP HOST REMOTEHOST'
  echo 'unsetenv _'
  echo 'unsetenv LS_COLORS'
  echo 'unsetenv NOTE'
  echo 'setenv toto'
  echo 'setenv tata coucou'
  echo 'env'
  echo '/bin/env'
  echo 'setenv titi abcd'
  echo 'unsetenv tata'
  echo 'env'
[16-END]

[17]
NAME="cd"
SETUP=""
CLEAN="rm -Rf plopplop"
TESTS=
  echo "mkdir plopplop"
  echo "cd plopplop"
  echo "pwd"
  echo -e "cd -\necho KEY\npwd\ncd /\nls"
  echo "cd -"
  echo "ls"
[17-END]

[18]
NAME="cd and error messages"
SETUP="mkdir testdircd ; chmod 000 testdircd"
CLEAN="chmod 755 testdircd ; rmdir testdircd"
TESTS=
  echo "cd testdircd"
[18-END]

[19]
NAME="space and tab"
SETUP=""
CLEAN=""
TESTS=
  echo -e ""
  echo -e "ls"
  echo -e "ls -l"
  echo -e "ls     -l"
  echo -e "     ls     -l"
  echo -e "ls -l     "
  echo -e "    ls     -l     -a    "
  echo -e "ls\t"
  echo -e "\tls"
  echo -e "\tls\t-l"
  echo -e "\t\t    ls\t     \t-l    \t\t  \t -a    \t\t"
[19-END]

[20]
NAME="separator ;"
SETUP=""
CLEAN=""
TESTS=
  echo -e "    \t  ls  -l;echo toto  ;  ls\t;\techo plop"
[20-END]

[21]
NAME="simple pipe"
SETUP=""
CLEAN=""
TESTS=
  echo -e "ls /dev | grep tty"
[21-END]

[22]
NAME="pipe"
SETUP=""
CLEAN=""
TESTS=
  echo -e "ls | grep plop"
  echo -e "\t ls   -l\t/dev|\tgrep tty"
[22-END]

[23]
NAME="multipipe"
SETUP=""
CLEAN=""
TESTS=
  echo -e "ls /dev | cat  | tr y Y | grep ttY | cat"
[23-END]

[24]
NAME="multipipe and FDMAX"
SETUP="ulimit -n 21"
CLEAN=""
TESTS=
  echo -e "ls -lR /dev | cat  | tr y Y | grep ttY | cat | cat | cat | cat | cat | cat |cat"
[24-END]

[25]
NAME="multipipe and error"
SETUP=""
CLEAN=""
TESTS=
  echo -e "ls -lR /dev | cat  | tr y Y | grep ttY | cat | cati | cat"
[25-END]

[26]
NAME="output redirect"
SETUP=""
CLEAN="rm fic"
TESTS=
  echo "ls /dev > fic"
  echo "echo toto"
  echo "cat fic"
[26-END]

[27]
NAME="output double-redirect"
SETUP=""
CLEAN="rm fic"
TESTS=
  echo "ls /dev > fic"
  echo "echo toto"
  echo "echo plop >> fic"
  echo "ls / >> fic"
  echo "echo titi"
  echo "cat fic"
[27-END]

[28]
NAME="output redirect on bin files"
SETUP=""
CLEAN="rm myls"
TESTS=
  echo "cat /bin/ls > myls"
  echo "chmod 755 myls"
  echo "./myls"
[28-END]

[29]
NAME="input redirect"
SETUP="/bin/ls /dev > fic"
CLEAN="rm fic"
TESTS=
  echo "grep tty < fic"
[29-END]

[30]
NAME="input redirect, output redirect and multi pipe and ; separator"
SETUP="/bin/ls /dev > fic"
CLEAN="rm fic ficout ficout2"
TESTS=
  echo "grep tty < fic | tr y Y > ficout ; cat ficout | sed s/tt/uu/g > ficout2 ; cat ficout2 | tr u I"
[30-END]

[31]
NAME="inception"
SETUP=""
CLEAN="rm result result2"
TESTS=
  echo "echo ls | /bin/tcsh > result"
  echo "echo ls | ./42sh > result2"
  echo "cat result"
  echo "cat result2"
[31-END]

[32]
NAME="redirect output on input"
SETUP="echo coucou > fic"
CLEAN="rm fic"
TESTS=
  echo "cat fic >> fic"
  echo "cat fic"
[32-END]

[33]
NAME="Segfault"
SETUP=""
CLEAN=""
TESTS=
  echo "./segfault"
[33-END]

[34]
NAME="Divzero"
SETUP=""
CLEAN=""
TESTS=
  echo "./divzero"
[34-END]

[35]
NAME="echo"
SETUP=""
CLEAN=""
TESTS=
  echo 'echo plop\nplop'
  echo 'echo "plop\nplop"'
[35-END]

[36]
NAME="which"
SETUP=""
CLEAN=""
TESTS=
  echo "which ls"
  echo "which which"
  echo "which echo"
  echo "which lol"
  echo "which cat"
[36-END]

[37]
NAME="double droit"
SETUP="echo coucou > tata ; echo tata > tutu"
CLEAN=""
TESTS=
  echo "cat tata > toto"
  echo "cat tata >> toto"
  echo "cat tutu >> toto ; cat toto >> toto"
  echo "cat toto"
[37-END]

[38]
NAME="precmd"
SETUP=""
CLEAN="rm -rf tata ; rm -rf toto ; rm -rf tutu"
TESTS=
  echo "alias precmd ls"
  echo "ls -l"
[38-END]

[39]
NAME="postcmd"
SETUP=""
CLEAN=""
TESTS=
  echo "alias postcmd ls"
  echo "ls -l"
[39-END]

[40]
NAME="where"
SETUP=""
CLEAN="rm -rf toto"
TESTS=
  echo "alias ls ls --color"
  echo "where ls > toto"
  echo "where lol >> toto"
  echo "where which >> toto"
  echo "cat toto"
[40-END]

[41]
NAME="redir left"
SETUP=""
CLEAN="rm -rf toto"
TESTS=
  echo "echo plop > toto"
  echo "wc < toto -c"
[41-END]

[42]
NAME="cd binary"
SETUP=""
CLEAN=""
TESTS=
  echo "cd 42sh"
[42-END]

[43]
NAME="cd file"
SETUP="touch tutu"
CLEAN="rm -rf tutu"
TESTS=
  echo "cd tutu"
[43-END]

[44]
NAME="cd unknown file"
SETUP="touch tutu"
CLEAN="rm -rf tutu"
TESTS=
  echo "cd ploppy"
[44-END]

[45]
NAME="alias simple"
SETUP=""
CLEAN=""
TESTS=
  echo "alias e echo"
  echo "e lol"
  echo "unalias e echo"
  echo "e oui"
  echo "alias e echo"
  echo "alias e echo -n"
  echo "e test"
[45-END]

[46]
NAME="alias loop"
SETUP=""
CLEAN=""
TESTS=
  echo "alias a b"
  echo "alias b c"
  echo "alias c a"
  echo "a"
[46-END]

[47]
NAME="alias break loop"
SETUP=""
CLEAN=""
TESTS=
  echo "alias a b"
  echo "alias b c"
  echo "alias c a"
  echo "unalias b"
  echo "alias a c"
  echo "a"
[47-END]

[48]
NAME="alias multiple level"
SETUP=""
CLEAN=""
TESTS=
  echo "alias a b"
  echo "alias b c"
  echo "alias c d"
  echo "alias d e"
  echo "alias e f"
  echo "alias f ls"
  echo "a"
[48-END]

[49]
NAME="alias empty + multiple word alias"
SETUP=""
CLEAN=""
TESTS=
  echo "alias a b c d e g"
  echo "a"
  echo "alias z"
  echo "z"
[49-END]

[50]
NAME="simple set/unset"
SETUP=""
CLEAN=""
TESTS=
  echo "set plop=toto"
  echo "set plop=tutu"
  echo 'echo $plop'
  echo "unset plop"
  echo 'echo $plop'
[50-END]

[51]
NAME="setenv/unsetenv + set/unset"
SETUP=""
CLEAN=""
TESTS=
  echo "set plop=toto"
  echo "setenv plop tutu"
  echo 'echo $plop'
  echo "unset plop"
  echo 'echo $plop'
[51-END]

[52]
NAME="empty env"
SETUP="/usr/bin/env > .lstenv ; while read varenv ; do unset $varenv ; done < <(/bin/cat .lstenv | /usr/bin/cut -f1 -d=) ; export PATH=/bin:/usr/bin ; export _=ls ; export LS_COLORS=RED ; export MYBG=1 ; export LVL=42 ; export NOTE=0"
CLEAN="while read varenv ; do export "$varenv" 2>/dev/null ; done  < <(/bin/cat .lstenv) ; /bin/rm -f .lstenv"
TESTS=
  echo 'unsetenv HOSTTYPE VENDOR OSTYPE MACHTYPE SHLVL PWD LOGNAME USER GROUP HOST REMOTEHOST'
  echo 'unsetenv _'
  echo 'unsetenv CPLUS_INCLUDE_PATH'
  echo 'unsetenv LS_COLORS'
  echo 'unsetenv NOTE'
  echo 'setenv toto'
  echo 'setenv tata coucou'
  echo '/bin/env'
  echo 'setenv titi abcd'
  echo 'unsetenv tata'
  echo 'unsetenv PATH'
  echo 'unsetenv LVL'
  echo 'unsetenv MYBG'
  echo 'unsetenv toto'
  echo 'unsetenv titi'
  echo 'unsetenv PWD'
  echo 'unsetenv SHLVL'
  echo 'env'
  echo 'ls'
  echo 'setenv titi abcd'
  echo 'env'
[52-END]


[53]
NAME="double redirect"
SETUP="touch tutu ; echo tamer > tutu"
CLEAN="rm -rf tutu toto"
TESTS=
  echo "cat tutu > tutu"
  echo "echo 5678 >> tutu"
  echo "cat tutu > toto"
  echo "cat tutu >> toto"
  echo "ls >> toto -l"
  echo "cat toto"
[53-END]

[54]
NAME="simple redirect"
SETUP="touch lol > toto"
CLEAN=""
TESTS=
  echo "ls > toto -l"
[54-END]

[55]
NAME="redirect < >"
SETUP="ls -l > toto"
CLEAN="rm -rf toto tutu"
TESTS=
  echo "wc < toto > tutu -l"
  echo "cat tutu"
[55-END]

[56]
NAME="input redir"
SETUP="ls -l > toto"
CLEAN="rm -rf toto"
TESTS=
  echo "cat < toto"
  echo "<toto wc -l"
  echo "ls"
[56-END]

[57]
NAME="globbing"
SETUP=""
CLEAN=""
TESTS=
  echo "ls M[a-z]k?file"
  echo "ls Mak?file"
  echo "ls {ghjk*,fghj*}"
  echo "ls {l*,M*}"
  echo "ls Mak[??]file"
[57-END]

[58]
NAME="variables"
SETUP=""
CLEAN=""
TESTS=
  echo 'setenv a Makefile'
  echo 'set b=echo'
  echo 'echo $a'
  echo 'ls $a -l'
  echo '$b $a'
[58-END]

[59]
NAME="simple quote"
SETUP=""
CLEAN=""
TESTS=
  echo 'echo 'lol''
  echo 'alias ll ls -l'
  echo "ll"
  echo "'ll'"
[59-END]

[60]
NAME="double quote"
SETUP=""
CLEAN=""
TESTS=
  echo 'echo "ma*"'
  echo 'echo "$PATH"'
[60-END]
